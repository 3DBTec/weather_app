{#{% extends 'base.html' %}#}

{% block content %}

    {% load static %}

{#    {% load crispy_forms_tags %}#}

    {% if results %}
        {% if time_period == 'today' %}
            <h1 class="mt-4">Query Weather API for Today: {{ city_name }} </h1>

            <p>Weather<b>   &nbsp;{{ results.weather }} </b> </p>
            <p>Temp: <b>    &nbsp;&nbsp;&nbsp;&nbsp; {{ results.temp }}</b> </p>
            <p>Min: <b>     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {{ results.min }}</b></p>
            <p>Max: <b>     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{ results.max }}</b></p>
            <p>Pressure:<b> {{ results.pressure }}</b> </p>
            <p>Humidity<b>  {{ results.humidity }} </b> </p>
            <br>

        {% elif time_period == 'period' %}
            <h1 class="mt-4">Query Weather API for {{ period }} Days: {{ city_name }} </h1>

            <table class="table table-striped sortable w-75" style="text-align: center">
{#                 <thead class='results-heading'>#}
{#                     <tr class="table-secondary">#}
                <thead>
                    <tr>
                        <th style="width: 50px">Day</th>
                        <th style="width: 100px">Weather</th>
                        <th style="width: 100px">Temp</th>
                        <th style="width: 100px">Min</th>
                        <th style="width: 100px">Max</th>
                        <th style="width: 100px">Pressure</th>
                        <th style="width: 100px">Humidity</th>
                     </tr>
                </thead>
                {% for day, day_result in results.items %}
                     <tr>
                         <td>{{ day }}</td>
                         <td>{{ day_result.weather }}</td>
                         <td>{{ day_result.temp }}</td>
                         <td>{{ day_result.min }}</td>
                         <td>{{ day_result.max }}</td>
                         <td>{{ day_result.pressure }}</td>
                         <td>{{ day_result.humidity }}</td>
                     </tr>
                {% endfor %}
             </table>
         {% endif %}

    {% else %}
          <h1 class="mt-4">No results for city: {{ city_name }} </h1>
    {% endif %}


{#    <div id="container_test"></div>#}
{##}
{#    <script src="https://code.highcharts.com/highcharts.src.js"></script>#}
{#  <script src="{% static 'javascript/highcharts.src.js' %}"></script>#}
{#  <script>#}
{#      Highcharts.chart('container_test', {#}
{#            chart: {#}
{#                type: 'column',#}
                {#borderColor: '#EBBA95',#}
                {#borderRadius: 20,#}
                {#borderWidth: 5,#}
{#                backgroundColor: '#FFFFFF',#}
{#                shadow: true#}
{#            },#}
{#            title: {#}
{#                text: '{{city_name}}',#}
{#                useHTML: true,#}
{#                style: {#}
                    {#color: '#FF00FF',#}
{#                    fontWeight: 'bold',#}
                    {#'background-color': 'green',#}
{#                    border: '1px solid black'#}
{#                }#}
{#            },#}
{#            xAxis: {#}
{#                categories: [#}
{#                    {% for domain_no, domain_details in domain_dict.items %}' {{ domain_details.name }}' {% if not forloop.last %}, {% endif %} {% endfor %}#}
{#                    {% for category in categories %} ' {{ category }}' {% if not forloop.last %}, {% endif %} {% endfor %}#}
{#                ]#}
{#            },#}
{#            series: [{#}
{#                name: 'Yes',#}
{#                data: [#}
{#                    {% for yes in series_yes %}  {{ yes }} {% if not forloop.last %}, {% endif %} {% endfor %}#}
{#                ],#}
{#                color: 'orange'#}
{#            }, {#}
{#                name: 'No',#}
{#                data: [#}
{#                    {% for no in series_no %}  {{ no }} {% if not forloop.last %}, {% endif %} {% endfor %}#}
{#                ],#}
{#                color: 'grey'#}
{#            }, {#}
{#                name: 'Todo',#}
{#                data: [#}
{#                    {% for todo in series_todo %}  {{ todo }} {% if not forloop.last %}, {% endif %} {% endfor %}#}
{#                ],#}
{#                color: 'blue'#}
{#            }]#}
{#     });#}
{#  </script>#}

{% endblock %}
